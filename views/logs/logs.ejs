<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Qu·∫£n l√Ω Logs</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="container">
    <h1>Ch√†o <%= user.username %> (Admin)</h1>

    <!-- Form t√¨m ki·∫øm -->
    <form action="/admin/dashboard" method="get">
      <input 
        type="text" 
        name="keyword" 
        placeholder="T√¨m ki·∫øm username, IP, hostname" 
        value="<%= keyword %>"
      />
      <button type="submit"><i>üîç</i> T√¨m ki·∫øm</button>
    </form>

    <!-- Form clear logs -->
    <form action="/admin/clear-logs" method="post">
      <button type="submit" onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a t·∫•t c·∫£ logs?')">
        <i>üóëÔ∏è</i> X√≥a t·∫•t c·∫£ logs
      </button>
    </form>

    <!-- B·∫£ng logs -->
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Username</th>
          <th>IP</th>
          <th>Hostname</th>
          <th>Timestamp</th>
          <th>H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody>
        <% if (logs.length === 0) { %>
          <tr><td colspan="6" style="text-align:center;">Kh√¥ng c√≥ logs n√†o.</td></tr>
        <% } else { %>
          <% logs.forEach(log => { %>
            <tr>
              <td><%= log.id %></td>
              <td><%= log.username %></td>
              <td><%= log.ip %></td>
              <td><%= log.hostname %></td>
              <td><%= new Date(log.timestamp).toLocaleString() %></td>
              <td>
                <form action="/admin/delete-log" method="post" onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a log n√†y?')">
                  <input type="hidden" name="id" value="<%= log.id %>" />
                  <button type="submit"><i>‚ùå</i> X√≥a</button>
                </form>
              </td>
            </tr>
          <% }); %>
        <% } %>
      </tbody>
    </table>

    <!-- Form block IP ho·∫∑c hostname -->
    <h2>Ch·∫∑n IP ho·∫∑c Hostname</h2>
    <form action="/admin/block" method="post">
      <label>
        Lo·∫°i:
        <select name="type" required>
          <option value="ip">IP</option>
          <option value="hostname">Hostname</option>
        </select>
      </label>
      <label>
        Gi√° tr·ªã:
        <input type="text" name="value" required placeholder="Nh·∫≠p IP ho·∫∑c hostname" />
      </label>
      <button type="submit"><i>üö´</i> Ch·∫∑n</button>
    </form>
  </div>
</body>
</html>
